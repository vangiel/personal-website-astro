---
import BlogPost from "@/layouts/BlogPost.astro";
import "@/styles/starlight-styles.css";
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";

export const getStaticPaths = (async () => {
	const posts = await getCollection("blog");
	return posts.map((post) => ({
		params: {
			slug: post.slug,
		},
		props: post,
	}));
}) satisfies GetStaticPaths;

const post = Astro.props;
const { Content } = await post.render();
---

<BlogPost {...post.data}>
	<Content />
</BlogPost>

<style>
	:global(.text p) {
		font-size: var(--fs-500);
		line-height: 1.5em;
		text-wrap: stable;
	}
	:global(.text img) {
		max-width: 100%;
		height: fit-content;
		object-fit: contain;
	}

	:global(.text em) {
		font-style: italic;
	}

	:global(.text strong) {
		color: oklch(var(--clr-accent));
	}

	:global(p strong > .MathJax) {
		color: oklch(var(--clr-text));
	}

	:global(.text a) {
		color: oklch(var(--clr-accent));
		font-style: italic;
	}

	:global(.text sup > a) {
		font-size: var(--fs-400);
		font-weight: var(--fw-regular);
	}
</style>
